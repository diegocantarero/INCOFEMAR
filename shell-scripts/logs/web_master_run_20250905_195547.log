== SAM 🧠 MASTER BUILD ==
Proyecto → /Users/diegocantarero/Library/CloudStorage/OneDrive-Personal/Incofemar/IoT/Pagina Web
Node no encontrado. Intento instalar…
==> Fetching downloads for: node
==> Downloading https://ghcr.io/v2/homebrew/core/node/manifests/24.7.0
==> Fetching dependencies for node: c-ares, libnghttp3, libngtcp2, libuv, simdjson and uvwasi
==> Downloading https://ghcr.io/v2/homebrew/core/c-ares/manifests/1.34.5-1
==> Fetching c-ares
==> Downloading https://ghcr.io/v2/homebrew/core/c-ares/blobs/sha256:76858a7f6dd6df68f7e9d13aca30a299d5947b5b6d6ce979ee660dd4ecca2bb6
==> Downloading https://ghcr.io/v2/homebrew/core/libnghttp3/manifests/1.11.0
==> Fetching libnghttp3
==> Downloading https://ghcr.io/v2/homebrew/core/libnghttp3/blobs/sha256:1c9d28dd6fde53d9fa821b5193f3544efb334ff6a22c9153a3ad962f0263c7dc
==> Downloading https://ghcr.io/v2/homebrew/core/libngtcp2/manifests/1.15.1
==> Fetching libngtcp2
==> Downloading https://ghcr.io/v2/homebrew/core/libngtcp2/blobs/sha256:f20ea5d5069d5e4048e99364117e99073ff2808c653db353fbed54bb37cb22b7
==> Downloading https://ghcr.io/v2/homebrew/core/libuv/manifests/1.51.0
==> Fetching libuv
==> Downloading https://ghcr.io/v2/homebrew/core/libuv/blobs/sha256:916f444748e98c1e58083df123f6ff9d90d0b0af202f4da0862a5c456804d2f2
==> Downloading https://ghcr.io/v2/homebrew/core/simdjson/manifests/3.13.0
==> Fetching simdjson
==> Downloading https://ghcr.io/v2/homebrew/core/simdjson/blobs/sha256:2d66e98360e79ddc9c6659aea66532e472b31186f83a9d6efe240065833ef1a0
==> Downloading https://ghcr.io/v2/homebrew/core/uvwasi/manifests/0.0.23
==> Fetching uvwasi
==> Downloading https://ghcr.io/v2/homebrew/core/uvwasi/blobs/sha256:8b31bdacb3dce4e40fd0ac0e6336b1b7b1c22e8dd5fe5cfafc0b51bce6929f45
==> Fetching node
==> Downloading https://ghcr.io/v2/homebrew/core/node/blobs/sha256:56ea01001e0320e0b3b639d9bceb042996f39831a8ffd3995a5ac8cb52d498b2
==> Installing dependencies for node: c-ares, libnghttp3, libngtcp2, libuv, simdjson and uvwasi
==> Installing node dependency: c-ares
==> Downloading https://ghcr.io/v2/homebrew/core/c-ares/manifests/1.34.5-1
Already downloaded: /Users/diegocantarero/Library/Caches/Homebrew/downloads/c52b1c91460667312755a235f78ac192a45bff39befbba6da9aa72a17263c559--c-ares-1.34.5-1.bottle_manifest.json
==> Pouring c-ares--1.34.5.arm64_sequoia.bottle.1.tar.gz
🍺  /opt/homebrew/Cellar/c-ares/1.34.5: 176 files, 1MB
==> Installing node dependency: libnghttp3
==> Downloading https://ghcr.io/v2/homebrew/core/libnghttp3/manifests/1.11.0
Already downloaded: /Users/diegocantarero/Library/Caches/Homebrew/downloads/3efff4f68e2c19db2315e48ca4b115b707b8aaea4c1f6c1576c8df2bb796cb61--libnghttp3-1.11.0.bottle_manifest.json
==> Pouring libnghttp3--1.11.0.arm64_sequoia.bottle.tar.gz
🍺  /opt/homebrew/Cellar/libnghttp3/1.11.0: 20 files, 579.8KB
==> Installing node dependency: libngtcp2
==> Downloading https://ghcr.io/v2/homebrew/core/libngtcp2/manifests/1.15.1
Already downloaded: /Users/diegocantarero/Library/Caches/Homebrew/downloads/2386d7347885fe52b57b9393d95f8b7dbfbdfcf303183ce1cc220faf3bb3d836--libngtcp2-1.15.1.bottle_manifest.json
==> Pouring libngtcp2--1.15.1.arm64_sequoia.bottle.tar.gz
🍺  /opt/homebrew/Cellar/libngtcp2/1.15.1: 21 files, 1.2MB
==> Installing node dependency: libuv
==> Downloading https://ghcr.io/v2/homebrew/core/libuv/manifests/1.51.0
Already downloaded: /Users/diegocantarero/Library/Caches/Homebrew/downloads/25bd9f2f86d047011dc8ca247bea2e4e3e5a150e29648418d48dfca4c8c136ea--libuv-1.51.0.bottle_manifest.json
==> Pouring libuv--1.51.0.arm64_sequoia.bottle.tar.gz
🍺  /opt/homebrew/Cellar/libuv/1.51.0: 20 files, 1.2MB
==> Installing node dependency: simdjson
==> Downloading https://ghcr.io/v2/homebrew/core/simdjson/manifests/3.13.0
Already downloaded: /Users/diegocantarero/Library/Caches/Homebrew/downloads/02c41c3dcd1d6d8e7fa71de0dbc30f47556872481178358c68a85bf79f14457d--simdjson-3.13.0.bottle_manifest.json
==> Pouring simdjson--3.13.0.arm64_sequoia.bottle.tar.gz
🍺  /opt/homebrew/Cellar/simdjson/3.13.0: 17 files, 5.3MB
==> Installing node dependency: uvwasi
==> Downloading https://ghcr.io/v2/homebrew/core/uvwasi/manifests/0.0.23
Already downloaded: /Users/diegocantarero/Library/Caches/Homebrew/downloads/5dab3181ad8f1000af1bb0ad3fba3ad0e31842e0ad32cdb9da3e382ca8d471e7--uvwasi-0.0.23.bottle_manifest.json
==> Pouring uvwasi--0.0.23.arm64_sequoia.bottle.tar.gz
🍺  /opt/homebrew/Cellar/uvwasi/0.0.23: 15 files, 282.3KB
==> Installing node
==> Pouring node--24.7.0.arm64_sequoia.bottle.tar.gz
command -v node >/dev/null 2>&1 || { fail "No pude habilitar node. Instálalo manualmente y reintenta."; exit 1; }
say "Node: $(node -v)  NPM: $(npm -v)"

# package.json
if [[ ! -f package.json ]]; then
  say "Creando package.json…"
  npm init -y >>"$RUN" 2>>"$ERR" || true
fi

# deps React 18 + esbuild
need_install=0
node -e "require('react');require('react-dom')" >>"$RUN" 2>>"$ERR" || need_install=1
if (( need_install )); then
  say "Instalando react@18 y react-dom@18…"
  npm i react@18 react-dom@18 >>"$RUN" 2>>"$ERR" || fail "Fallo instalando react/react-dom (continuaré intentando build)"
fi
npx --yes esbuild --version >>"$RUN" 2>>"$ERR" || { say "Instalando esbuild…"; npm i -D esbuild >>"$RUN" 2>>"$ERR" || fail "Fallo instalando esbuild"; }

# ========== 3) Entry de montaje TSX ==========
ENTRY="$ART/code/mount_entry.tsx"
mkdir -p "$(dirname "$ENTRY")"
cat > "$ENTRY" <<'TSX'
// Auto-generado por SAM 🧠
import * as React from "react";
import { createRoot } from "react-dom/cl🍺  /opt/homebrew/Cellar/node/24.7.0: 2,467 files, 96.0MB
==> Running `brew cleanup node`...
Disable this behaviour by setting `HOMEBREW_NO_INSTALL_CLEANUP=1`.
Hide these hints with `HOMEBREW_NO_ENV_HINTS=1` (see `man brew`).
==> No outdated dependents to upgrade!
